1. 小数点在Linux的场景

- 单独使用点（.）表示source命令，可用来刷新系统变量文件
- 在斜杠之前表示相对路径（./）
- 在文件名称之前表示是隐藏文件（.filename）

# 第一章 Linux基础

## 1.1 Linux系统简介

## 1.2 虚拟机的使用

## 1.3 Linux安装

## 1.4 Linux文件系统

## 1.5 Linux命令格式

1. 命令提示符

   ```sh
   [root@localhost ~] #
   ```

   > - `[]` 是命令提示符的分隔符，没有特殊含义
   > - root：表示当前登录用户
   > - @：无特殊含义，用于分隔用户与后面的主机IP
   > - localhost：登录的主机IP
   > - ~：当前所在目录的最后一级目录
   > - #：命令提示符（普通用户的提示符是#，超级管理员用户的提示符是$）

2. 命令格式

   ```sh
   命令 [选项] [参数]
   ```

   > - `[]`：方括号代表里面的值是可选项
   > - 选项的作用：用于调整命令的功能
   > - 参数的作用：用于指定命令的执行对象

# 第二章 Linux基础命令

## 2.1 文件目录相关命令

### :dash: pwd 查询路径

### :dash: cd 切换目录

```sh
cd 目录路径
```

- 目录参数字符说明

  | 符号    | 说明                       |
  | ------- | -------------------------- |
  | ~       | 代表当前登录用户的主目录   |
  | ~用户名 | 表示切换至指定用户的主目录 |
  | -       | 代表上次所在目录           |
  | .       | 代表当前目录               |
  | ..      | 代表上级目录               |

### :dash: ls 文件列表

- 常用选项说明

  | 选项 | 功能                                                         |
  | ---- | ------------------------------------------------------------ |
  | -a   | 显示全部的文件，包括隐藏文件（开头为 . 的文件）也一起罗列出来 |
  | -d   | 仅列出目录本身，而不是列出目录内的文件数据。                 |
  | -h   | 以人们易读的方式显示文件或目录大小，如 1KB、234MB、2GB 等。  |
  | -i   | 显示 inode 节点信息。                                        |
  | -l   | 使用长格式列出文件和目录信息。                               |
  | -R   | 连同子目录内容一起列出来，等於将该目录下的所有文件都显示出来。 |
  | -S   | 以文件容量大小排序，而不是以文件名排序。                     |
  | -t   | 以时间排序，而不是以文件名排序。                             |

### :dash: mkdir 创建文件夹

```sh
mkdir [选项] 文件夹名称
```

> - 选项`-p`：递归执行目录创建

### :dash: rmdir 删除文件夹

```sh
rmdir [选项] 文件夹名称
```

> - 选项`-p`：默认不可以删除非空文件夹，使用该选项递归执行目录删除

### :dash: touch  新建空文件

```sh
touch 文件名称
```

> - 如果文件已存在，则会修改文件的最后修改时间

### :dash: file 查看文件类型

### :dash: stat 查看文件详细信息

```sh
stat 文件名称
```

> - Assess：表示文件的最后访问时间
> - Modify：表示文件数据的最后修改时间
> - Change：表示文件状态的最后修改时间

### :dash: cat 查看文件内容

```sh
cat [选项] 文件名称
```

> | 选项 | 说明                                  |
> | ---- | ------------------------------------- |
> | -E   | Enter：表示显示行尾回车符             |
> | -T   | Tab：表示Tab制表符                    |
> | -v   | 列出文本中特殊字符                    |
> | -A   | All：表示-vET的组合，显示所有隐藏字符 |
> | -n   | 显示行号                              |

### :dash: more 分屏显示文本内容

```sh
more 文件名称
```

> | 分屏显示快捷键 | 作用         |
> | -------------- | ------------ |
> | 空格           | 向下翻页     |
> | b              | 向上翻页     |
> | 回车           | 向下移动一行 |
> | q              | 退出         |

### :dash: less 分行显示文本内容

```sh
less 文件夹称
```

> | 分屏显示快捷键 | 作用             |
> | -------------- | ---------------- |
> | 空格           | 向下翻页         |
> | b              | 向上翻页         |
> | 回车           | 向下移动一行     |
> | 上下方向键     | 可以上下移动一行 |
> | q              | 退出             |

### :dash: head  查看文件头

```sh
head [选项] 文件夹称
```

> - 选项`-n`：默认只查看10行，该选项用于指定查看的行数

### :dash: tail  查看文件为

```sh
rmdir [选项] 文件夹名称
```

> - 选项`-n`：默认只查看10行，该选项用于指定查看的行数
> - 选项`-f`：用于监听文件的末尾新增内容

### :dash: rm  删除文件

```sh
rm [选项] 文件夹或文件
```

> | 选项 | 说明                                                         |
> | ---- | ------------------------------------------------------------ |
> | -f   | 强制删除（force）                                            |
> | -i   | 在删除文件或目录之前，系统会给出提示信息                     |
> | -r   | 递归删除，可删除指定目录及包含的所有内容，包括所有的子目录和文件 |

### :dash: cp  复制

```sh
cp [选项] 要复制的文件  复制的目的地
```

> | 选项 | 说明                                                         |
> | ---- | ------------------------------------------------------------ |
> | -a   | 相当于 -d、-p、-r 选项的集合                                 |
> | -d   | 如果源文件为软链接（对硬链接无效），则复制出的目标文件也为软链接； |
> | -p   | 复制后目标文件保留源文件的属性                               |
> | -r   | 递归复制，用于复制目录                                       |
> | -i   | 交互的方式询问，如果目标文件已经存在，则会询问是否覆盖       |
> | -u   | 若目标文件比源文件有差异，则使用该选项可以更新目标文件，此选项可用于对文件的升级和备用 |

### :dash: mv 剪切移动

```sh
mv [选项] 要剪切的文件  新路径（重命名）
```

> | 选项 | 说明                                           |
> | ---- | ---------------------------------------------- |
> | -f   | 在 mv 操作要覆盖某已有的目标文件时不给任何指示 |
> | -i   | 若指定目录已有同名文件，则先询问是否覆盖旧文件 |

### 

## 2.2 权限命令

## 2.3 查找搜索命令

## 2.4 压缩与解压缩

## 2.5 网络命令

## 2.6 挂载命令

## 2.7 其他重要命令

### :dash: echo 内容输出



- 格式：<kbd>echo [选项] "输出内容"</kbd>：如果输出内容没有特殊内容，可以不适用双引号。

  - 常用选项说明

    | 选项    | 作用                       |
    | ------- | -------------------------- |
    | **-e**  | 支持反斜杠线控制的字符转换 |
    | **-n ** | 输出内容后不换行           |

  - 常用转义字符说明

    | 转义组合                  | 作用                         |
    | ------------------------- | ---------------------------- |
    | `\\`                      | 输出`\`本身                  |
    | `\t`                      | 制表符                       |
    | `\n`                      | 换行符                       |
    | `\e`                      | ESC键                        |
    | \e[1;颜色 输入的字符\e[0m | 为输出的字符添加颜色或背景色 |

    > - 固定开头格式`\e[1;`  - 表示颜色开始的
    > - 固定结尾格式`\e[0m` - 表示颜色的结束
    > - 文字颜色：30m=黑、31m=红、32m=绿、33m=黄、34m=蓝、35m=洋、36m=青，37m=白色
    > - 背景颜色：40m=黑、41m=红、42m=绿、43m=黄、44m=蓝、45m=洋、46m=青，47m=白色

### :dash: history 历史记录

- 格式：<kbd>history</kbd>

  - 历史命令记录是保存在家目录中：`~/.bash_history`文件中；
  - 历史记录文件中会保存本地登录后的历史记录，本次登录后的操作记录是保存在内存中，默认是在用户注销后系统自动将历史记录写入到历史记录文件中；
  - 设置历史记录保持数量：环境变量配置文件`/etc/profile`文件的HISTORY属性，推荐设置大一点；

- 常用选项及操作

  | 选项     | 作用                                     |
  | -------- | ---------------------------------------- |
  | `-w`     | 动刷新内存，将内存历史操作记录写入到文件 |
  | `-c`     | 清空历史记录                             |
  | 上下箭头 | 调用历史记录命令                         |
  | ! 编码   | 重复执行第n条历史记录                    |
  | !!       | 重复执行上次记录                         |
  | !字符串  | 重复执行最后一条以指定字符串开头的命令   |
  | !$       | 重复上一条命令的最后一个参数             |

### :dash: alias 命令别名定义

- 格式

  - 设置别名 : 修改`~/.bashrc`文件可以永久生效

    ```sh
    alias 命令='别名'
    ```

    > 需要刷新该配置文件才可以生效

  - 查询别名 : alias

- 命令的执行顺序

  - 第一顺位 : 使用路径执行的命令
  - 第二顺位 : 别名
  - 第三顺位 : 执行bash内部命令
  - 第四顺位 : 安装PATH环境变量定义的目录查询到的第一个命令

# 第三章 VIM编辑器

## 3.1 VIM介绍

<font color=blue size=4>:anchor:vim简介</font>

- 是一种全屏幕纯文本编辑器，是Linux系统中vi的增强版（文本有颜色提示）；
- 不需要鼠标介入就可以完成对文本文件的所有操作；

<font color=blue size=4>:anchor: vim别名设置</font>

- 设置临时别名

  ```sh
  alias vi='vim'
  ```

- 修改别名配置文件：`~/.bashrc`

  ```sh
  alias vi='vim'
  ```

<font color=blue size=4​>:anchor: vim模式简介</font>

<img src='./imgs/vim_模式' width=80%/>

## 3.2 命令模式

> **主要是使用快捷键的地方**

1. 使用vi / vim 指定纯文本文件进入到命令模式；

2. 使用快捷键进入到输入模式

   | 快捷键 | 作用                 |
   | ------ | -------------------- |
   | a      | 当前光标字符之后     |
   | A      | 当前光标所在行尾     |
   | i      | 当前光标字符之前     |
   | I      | 当前光标所在行首     |
   | o      | 当前光标的下一行输入 |
   | O      | 当前光标的上一行输入 |

<font color=blue size=4>:anchor: 操作输入光标</font>

1. 移动光标

   - 上、下、左、右方向键；
   - h → 右、j → 上、k → 下、l → 左；

2. 文件头尾

   | 快捷键 | 作用         |
   | ------ | ------------ |
   | gg     | 光标到文件头 |
   | G      | 光标到文件位 |

3. 行首行尾

   | 快捷键 | 作用       |
   | ------ | ---------- |
   | ^      | 光标到行首 |
   | $      | 光标到行尾 |

4. 移动到指定行

   | 快捷键 | 作用      |
   | ------ | --------- |
   | :n     | n表示行号 |

<font color=blue size=4>:anchor: 文本编辑
</font>

1. 删除

   | 快捷键 | 作用         |
   | ------ | ------------ |
   | x      | 删除单个字母 |
   | nx     | 删除n个字母  |

2. 剪切

   | 快捷键  | 作用                 |
   | ------- | -------------------- |
   | dd      | 剪切当前行           |
   | ndd     | 剪切当前后之后的n行  |
   | :nx,nyd | 剪切第x行到第n行     |
   | dG      | 删除当前行到文件尾部 |

3. 粘贴

   | 快捷键    | 作用               |
   | --------- | ------------------ |
   | p（小写） | 粘贴到当前光标之后 |
   | P（大写） | 粘贴到当前光标之前 |

4. 复制

   | 快捷键 | 作用                    |
   | ------ | ----------------------- |
   | yy     | 复制光标所在行          |
   | nyy    | 复制光标所在行之后的n行 |

5. 撤销、恢复

   | 快捷键   | 作用   |
   | -------- | ------ |
   | u        | 撤销   |
   | ctrl + r | 反撤销 |

6. 替换

   | 快捷键 | 作用                   |
   | ------ | ---------------------- |
   | r      | 替换光标所在的字符     |
   | R      | 替换光标所在之后的字符 |
   | esc    | 退出替换模式           |

## 3.3 输入模式

> **对文本文件的输入操作**

1. 退出输入模式：esc

## 3.4 底线命令模式

> **主要对文本文件的增删改查操作**

1. 退出vim模式

   | 快捷键        | 作用           |
   | ------------- | -------------- |
   | :w            | 保存不退出     |
   | :w 新文件名称 | 另存为新文件   |
   | :wq           | 保存并退出     |
   | :!            | 强制           |
   | :q!           | 强制退出不保存 |
   | :wq!          | 强制退出并保存 |

2. vim配置说明：可以自定义配置文件`~/.vimrc`

   | 快捷键          | 作用              |
   | --------------- | ----------------- |
   | :set nu         | 显示行号          |
   | :set nonu       | 隐藏行号          |
   | :syntax on      | 开启shell颜色帮助 |
   | :syntax off     | 关闭shell颜色帮助 |
   | :set hlsearch   | 开启搜索高亮      |
   | :set nohlsearch | 关闭搜索高亮      |
   | :set ruler      | 开启右下角状态栏  |
   | :set nuruler    | 关闭有下降状态栏  |
   | :set showmode   | 开启左下角状态栏  |
   | :set noshowmode | 关闭左下角状态栏  |
   | :set list       | 显示隐藏字符      |
   | :set nolist     | 关闭显示隐藏字符  |

3. 查找

   | 快捷键    | 作用                 |
   | --------- | -------------------- |
   | /搜索内容 | 从光标处向下搜索内容 |
   | ?搜索内容 | 从光标处向上搜索内容 |
   | n         | 查找下一个           |
   | N         | 查找上一个           |

4. 替换

   ```sh
   :起始行号,终止行号s/旧字符/新字符 g
   ```

   - 起始行号和终止行号用%表示整个文本文档；
   - g表示替换所有的旧字符，否则只替换第一个；
   - ^ 表示正则符号：表示行首；

## 3.5 vim其他技巧

1. 在vim编辑模式中导入其他文件中的内容

   ```sh
   :r 其他文件路径   # 把其他文件中的内容添加到光标所在的位置
   ```

2. 在vim编辑模式中执行其他命令

   ```sh
   :! 命令		  # 执行其他命令并显示命令结果
   :r !命令		  # 执行命令并将命令结果添加到光标所在处
   ```

3. 自定义快捷键

   ```sh
   :map 快捷键 快捷键对应的命令
   ```

   - 快捷键不是手动输入，需要使用组合键：① ctrl + v ② 自定义的快捷键

4. 替换字符

   ```sh
   :ab 原字符 替换的字符
   ```

   - 使用时候，首先输入原字符加空格，按回车或tab键就会显示为替换的字符

5. vim打开多文件

   ```sh
   vim -o/O 文件1 文件2
   ```

   - 小写o表示上下屏打开文件：①ctrl + w ② 上下键选择屏幕
   - 大写O表示左右屏打开文件：①ctrl + w ② 左右键选择屏幕

# 第四章 Linux软件包管理

## 4.1 LInux软件包

<font color=blue size=4>:anchor: 源码包
</font>：是一大堆源代码程序，是由程序员按照特定的格式和语法编写出来的

- 源码包的安装需要把源代码编译为二进制代码，因此安装时间较长；
- 在安装过程中如果程序不要报错，初学者很难解决；

<font color=blue size=4>:anchor: 二进制
</font>：是源码包经过成功编译之后产生的包

- 二进制包在发布之前就已经完成了编译的工作，用户安装软件的速度较快，且安装过程报错几率大大减小。；
- 二进制包是 Linux 下默认的软件安装包，因此二进制包又被称为默认安装软件包
  1. RPM 包管理系统：功能强大，安装、升级、査询和卸载非常简单方便，Linux的Redhat系列使用；
  2. DPKG 包管理系统：由 Debian Linux 所开发的包管理机制；

<font color=blue size=4>:anchor: yum源 </font>

- 直接使用手工命令安装rpm软件包需要手工决绝软件包的依赖问题，yum是rpm在线安装的方法，yum安装会直接连接到rpm官方服务器安装软件包以及对应的依赖包，主要是解决了rpm软件包的依赖问题，本质还是rpm安装。

<font color=blue size=4>:anchor: **用于大量用户访问的服务建议使用源码包安装**
</font>

## 4.2 RPM软件包安装

<font color=blue size=4>:anchor: RPM包特点 </font>

- PRM包安装需要解决依赖性

  1. 树形依赖：按依赖顺序依次安装；

  2. 环形依赖：将依赖的包同时安装；

  3. 模块依赖（函数库依赖）：首先需要安装模块所在的软件包并安装对应的软件包，再安装软件包；

     [根据函数库查询软件包]: www.rpmfind.net

- RPM包名称格式

  ```sh
  # 包全名
  httpd-2.2.15-15.el6.centos.1.i686.rpm 
  ```

  > - httped：软件包名
  >
  > - 2.2.15：包的版本号，版本号的格式通常为`主版本号.次版本号.修正号`
  >
  > - 15：二进制包发布的次数
  >
  > - el*：软件发行商
  >
  > - centos：表示此包适用于 CentOS 系统
  >
  > - 硬件平台
  >
  >   | 平台名称 | 适用平台信息                                                 |
  >   | -------- | ------------------------------------------------------------ |
  >   | i386     | 386 以上的计算机都可以安装                                   |
  >   | i586     | 686 以上的计算机都可以安装                                   |
  >   | i686     | 奔腾 II 以上的计算机都可以安装，目前所有的 CPU 是奔腾 II 以上的，所以这个软件版本居多 |
  >   | x86_64   | 64 位 CPU 可以安装                                           |
  >   | noarch   | 没有硬件限制                                                 |
  >
  > - rpm：RPM 包的扩展名，表明这是编译好的二进制包

- rpm的默认安装路径

  | 安装路径        | 含 义                      |
  | --------------- | -------------------------- |
  | /etc/           | 配置文件安装目录           |
  | /usr/bin/       | 可执行的命令安装目录       |
  | /usr/lib/       | 程序所使用的函数库保存位置 |
  | /usr/share/doc/ | 基本的软件使用手册保存位置 |
  | /usr/share/man/ | 帮助文件保存位置           |

<font color=blue size=4>:anchor: 手工命令安装
</font>

```sh
rpm 选项 [参数] [包名]
```

- **常用选项说明**

  | 选项               | 作用                                                         |
  | ------------------ | ------------------------------------------------------------ |
  | -i                 | 安装（install）                                              |
  | -v                 | 显示更详细的信息（verbose）                                  |
  | -h                 | 显示安装进度（hash）                                         |
  | -U                 | 如果该软件没安装过则直接安装；若没安装则升级至最新版本       |
  | -F                 | 如果该软件没有安装，则不会安装，必须安装有较低版本才能升级。 |
  | -e                 | 卸载                                                         |
  | rpm -q 包名        | 查询软件包是否安装                                           |
  | rpm -qa            | 查询所有已安装软件                                           |
  | rpm -qip 包全名    | 查询未安装软件包                                             |
  | rpm -qi 包名       | 查询软件包的详细信息                                         |
  | rpm -ql 包名       | 命令查询软件包的文件列表                                     |
  | rpm -qlp 包全名    | 查询未安装软件包                                             |
  | rpm -qf 系统文件名 | 命令查询系统文件属于哪个RPM包                                |
  | rpm -qR 包名       | 查询软件包的依赖关系                                         |

- **常用参数说明**

  | 选项     | 作用                                       |
  | -------- | ------------------------------------------ |
  | --nodeps | 不检测依赖性安装                           |
  | --force  | 强制安装                                   |
  | --test   | 测试安装。不会实际安装，只是检测一下依赖性 |
  | --prefix | 指定安装路径。                             |

- **Linux RPM 包校验**

  ```sh
  # 校验系统中已安装的所有软件包
  rpm -Va
  
  # 校验指定 RPM 包中的文件
   rpm -V 已安装的包名
   
   # 校验某个系统文件是否被修改
   rpm -Vf 系统文件名
  ```

  > 验证信息：如`S.5....T. c /etc/httpd/conf/httpd.conf`
  >
  > - S：文件大小是否改变。
  > - M：文件的类型或文件的权限（rwx）是否改变。
  > - 5：文件MD5校验和是否改变（可以看成文件内容是否改变）。
  > - D：设备的主从代码是否改变。
  > - L：文件路径是否改变。
  > - U：文件的属主（所有者）是否改变。
  > - G：文件的属组是否改变。
  > - T：文件的修改时间是否改变。
  > - 文件类型
  >   - c：配置文件（configuration file）。
  >   - d：普通文档（documentation）。
  >   - g："鬼"文件（ghost file），很少见，就是该文件不应该被这个 RPM 包包含。
  >   - l：授权文件（license file）。
  >   - r：描述文件（read me）。

- **RPM数字证书验证**

  - 数字证书说明：RPM 包校验方法只能用来校验已安装的 RPM 包及其安装文件，如果 RPM 包本身就被动过手脚，此方法将无法解决问题，需要使用 RPM 数字证书验证方法。

  - 使用数字证书验证 RPM 包的方法具有如下 2 个特点：

    1. 必须找到原厂的公钥文件，然后才能进行安装。
    2. 安装 RPM 包会提取 RPM 包中的证书信息，然后和本机安装的原厂证书进行验证。如果验证通过，则允许安装；如果验证不通过，则不允许安装并发出警告。

  - 数字证书位置：`/etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-6`，安装数字证书

    ```sh
    rpm --import /efc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-6
    ```

  - 查询系统中的数字证书：数字证书本身也是一个 RPM 包，因此可以用 rpm 命令查询数字证书的详细信息，也可以将其卸载

    ```sh
    rpm -qa|grep gpg-pubkey
    ```

- **RPM包文件提取**

  ```sh
  rpm2cpio 包全名|cpio -idv .文件绝对路径
  ```

  > **重点：**将提取出的文件首先放在当前目录中，再手动进行修改或覆盖

<font color=blue size=4>:anchor: yum在线安装
</font>

- 

# 第五章 Linux用户权限

## 5.1 用户与组概述

## 5.2 用户组相关文件

### <font color=blue size=4>:anchor: 用户信息文件</font>
### <font color=blue size=4>:anchor: 用户密码文件</font>

### <font color=blue size=4>:anchor: 组信息文件</font>

### <font color=blue size=4>:anchor: 组密码文件</font>

### <font color=blue size=4>:anchor: 用户家目录文件</font>

### <font color=blue size=4>:anchor: 用户邮箱文件</font>

### <font color=blue size=4>:anchor: 用户模板目录</font>

## 5.3 用户管理



# 第六章 文件系统管理

