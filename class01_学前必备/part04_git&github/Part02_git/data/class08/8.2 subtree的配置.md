# 8.2 subtree的配置

### 1. 初始化远程库

- 依赖库与被依赖库是独立的远程库

### 2. 初始化本地库 : 父项目

- 配置用户信息和本地库的远程信息

  ```sh
  git remote add origin 父项目的URL
  ```

### 3. 在父项目中配置子项目的远程信息

- 需要给父项目配置, 方便之后的操作

  ```sh
  git remote add origin 子项目的URL
  ```

### 4. 根据远程库的URL克隆子项目

```sh
git subtree add --prefix=子项目的文件夹 子项目URL 需要克隆的名称 --squash [克隆选项]
```

- 这是固定格式 : 对子模块的操作需要指定子模块的所在的位置以及远程分支
- [克隆选项] --squash : 合并压缩, 添加该参数, 每次合并( merge | pull )操作会将子模块的提交压缩为一个提交在父模块中, 这样会丢失子模块的提交完整信息, 但是可以保证父项目的提交历史完整
  - 如果首次克隆时候添加的该选项,之后的每次合并操作都需要带该选项