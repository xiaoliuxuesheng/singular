# 第一章 引入ShardingSphere

## 1.1 ShardingSphere概述

1. 物联网下的关系型数据库
   - 从互联网到物联网的发展，传统的单库单表的关系型数据库已经难以支撑海量数据的高效存储和访问；
   - 现如今的互联网的发展中，关系型数据库任然是数据平台的基石；
   - 随着NoSql的功能完善，天然集成分布式分片功能，关系型数据的优点已经不再具备竞争力；
2. ShardingSphere功能特点
   - **数据分片**：最小的成本集成分库分表；
   - **代理机制**：客户端在分布式架构下的数据访问；
   - **分布式事务**：保证数据的一致性
   - **数据治理**：数据库资源在多地部署下的配置一致性；
   - **技术完整性**：是Apache基金会的第一个数据库分布式中间件，提供了一套适用于互联网的应用架构、云服务的数据架构完整的开源分布式数据库中间件的解决方案；
   - **开发友好性**：开发人员只需要引入jar包即可嵌入数据分片、分库分表、读写分离；
   - **可插拔系统扩展**：ShardingSphere的核心功能以插件形式提供，可以定制化开发配置；

## 1.2 分库分表及方案

1. **分库分表概念**

   <img src="https://s1.ax1x.com/2020/06/16/NiwRsA.png" alt="NiwRsA.png" border="0" />
   - 水平分表：单表的数据量过多时候，采用分表策略将单个数据表拆分为多个数据表；

   - 垂直分表：单个数据表中的字段的类型和访问策略的不同，将单个表根据字段拆分为多个表；

   - 水平分库：数据表分表后，将数据表存放在不同的数据库；

   - 垂直分库：根据数据表的业务拆分模块，不同的功能模块存放在不同的数据库中；

2. **读写分离**

   - 解决高并发下数据库的访问，终极的解决方案是按照用户ID等规则来拆分库或拆分表
   - 在分库分表的机构中实现读写分离

3. **分片**

   - 无论是分库还是分表，都是把数据划分成不同的数据片，并存储在不同的目标对象中；
   - 分片方案
     - 客户端分片：（阿里TDDL、ShardingSphere）在数据库的客户端就实现了分片规则，这种方式将分片处理的工作进行前置，客户端管理和维护这所有的分片逻辑并决定每次SQL执行的目标数据库和数据表；
     - 代理服务器分片：在应用层和数据库成集成了代理层，网络传输的弊端；
     - 分布式数据库：数据分片及分布式事务是内置的基础功能，ShardingSphere同时具备了客户端分片、代理机制以及分布式事务等多个功能；

# 第二章 ShardingSphere核心功能

# 第三章 ShardingSphere基础设施

# 第四章 ShardingSphere分片引擎

# 第五章 ShardingSphere分布式事务

# 第六章 ShardingSphere治理集成