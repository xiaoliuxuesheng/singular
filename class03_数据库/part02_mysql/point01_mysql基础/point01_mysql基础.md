# 前言

1. MySQL功能迭代

   | 时间         | 特点                                           |
   | ------------ | ---------------------------------------------- |
   | 20世纪90年代 | 数据库引擎的创建                               |
   | 2000年       | 采用GLP协议：成为开源软件                      |
   | 2001年       | 引入InnoDB存储引擎                             |
   | 2002年       | MySQL全面支持事务：ACID；外键                  |
   | 2003年       | 支持UNION                                      |
   | 2004年       | 支持视图、存储过程、触发器、游标、等分布式特性 |

# 第一章 MySQL的安装与配置

## 1.1 MySQL版本说明

1. Standard：推荐大部分用户下载使用
2. Max：除Standard的所有内容外，还有一些附加新特性，未通过正式的测试发布
3. Debug：和Standard类似，但是会包含一些调试信息，会影响性能

## 1.2 Windows系统的安装与配置

- 

# 第二章 SQL基础



# 第三章 MySQL数据类型

## 3.1 整数类型

| 整数类型                   | 字节     | 最小值                                    | 最大值                                                  |
| -------------------------- | -------- | ----------------------------------------- | ------------------------------------------------------- |
| tinyint                    | 1        | 有符号：-128<br />无符号：0               | 有符号：127<br />无符号：255                            |
| smallint                   | 2        | 有符号：-32768<br />无符号：0             | 有符号：-32767<br />无符号：65535                       |
| mediumint                  | 3        | 有符号：-8388608<br />无符号：0           | 有符号：-8388607<br />无符号：1677215                   |
| int、integer               | 4        | 有符号：-2<sup>31</sup>-1 <br />无符号：0 | 有符号：2<sup>31</sup>-1 <br />无符号：2<sup>32</sup>-1 |
| bigint                     | 8        | 有符号：-2<sup>63</sup>-1 <br />无符号：0 | 有符号：2<sup>63</sup>-1 <br />无符号：2<sup>64</sup>-1 |
| **浮点数类型**             | **字节** | **最小值**                                | **最大值**                                              |
| float                      | 4        |                                           |                                                         |
| double                     | 8        |                                           |                                                         |
| **定点数类型**             | **字节** | **最小值**                                | **最大值**                                              |
| dec(M,D)<br />decimal(M,D) | M+2      |                                           | 和Double相同                                            |
| **位类型**                 | **字节** | **最小值**                                | **最大值**                                              |
| bit(M)                     | 1~8      | bit(1)                                    | bit(8)                                                  |

:one: **整数类型(n)** :  不代表占用空间容量。而代表最小显示位数 

- 整数型的数值类型已经限制了取值范围，有符号整型和无符号整型都有，而M值并不代表可以存储的数值字符长度，它代表的是数据在显示时显示的最小长度；
- 默认是int(11)：当存储的字符长度超过M值时，没有任何的影响，只要不超过数值类型限制的范围；
- 当存储的字符长度小于M值时，只有在设置了zerofill用0来填充，才能够看到效果，换句话就是说，没有zerofill，M值就是无用的。

:two: **整数类型(m,d)**  : float与double在插入值发生截取时候不会有四舍五入警告,decimal会产生截断警告，不会四舍五入。

## 3.2 日期时间类型

:anchor: **特点**

- MySQL有多重日期的数据类型
- 每一个类型都有合法的取值范围

:anchor: **日期时间类型**

| 类型      | 日期格式            | 日期范围                                | 存储大小 |
| --------- | ------------------- | --------------------------------------- | -------- |
| year      | YYYY                | 1901~2155                               | 1字节    |
| time      | HH:MM:SS            | -838:59:59~838:59:59                    | 3字节    |
| date      | YYYY-MM-DD          | 1000-01-01~9999-12-03                   | 3字节    |
| datetime  | YYYY-MM-DD HH:MM:SS | 1000-01-01 00:00:00~9999-12-03 23:59:59 | 8字节    |
| timestamp | YYYY-MM-DD HH:MM:SS | 1970-01-01 00:00:01~2038-01-19 03:14:07 | 4字节    |

## 3.3 文本字符串类型

:anchor: 特征

- 字符串类型用来存储字符串数据，还可以存储其他数据：比如图片和声音等二进制数据
- 文本字符可以进行区分或者不区分大小写的字符比较
- 文本字符串可以进行模式匹配查找

:anchor: MySQL中的文本字符串类型

| 字符类型   | 说明                             | 存储                          |
| ---------- | -------------------------------- | ----------------------------- |
| char(M)    | 固定长度非二进制字符串           | M字节 : M<=255                |
| varchar(M) | 变长非二进制字符串               | L+1字节 : L <= M              |
| tinytext   | **非常小**的非二进制字符串       | L+1字节 : L <= 2<sup>8</sup>  |
| text       | **小** 非二进制字符串            | L+2字节 : L <= 2<sup>16</sup> |
| mediutext  | **中** 非二进制字符串            | L+3字节 : L <= 2<sup>24</sup> |
| longtext   | **大** 非二进制字符串            | L+4字节 : L <= 2<sup>32</sup> |
| enum       | 枚举:只能由一个枚举字符串        | 取决于枚举值的数量:最大65535  |
| set        | 字符串对象可以有0个或多个set成员 | 最多64个成员                  |

## 3.4 二进制字符串类型

:anchor: 特征

- 在数据库中存储的是二进制数据的数据类型。
- **实际编码中，使用二进制类型并不多，就当了解一下好了**

:anchor: MySQL中的二进制字符串类型

| 类型名称      | 说明                   |
| ------------- | ---------------------- |
| bit(M)        | 位字段类型             |
| binary(M)     | 固定长度的二进制字符串 |
| varbinary(M)  | 可变长度的二进制字符串 |
| tinyblob(M)   | 非常小的blob           |
| blob(M)       | 小的blob               |
| mediumblob(M) | 中等大小的blob         |
| longblob(M)   | 非常大的blob           |

> blob类型是一种特殊的二进制类型。
>
> blob可以用来保存数据量很大的二进制数据
>
> blob类型与text类型很类似，不同点在于blob类型用于存储二进制数据，blob类型数据是根据其二进制编码进行比较和排序的，而text类型是文本模式进行比较和排序

# 第四章 MySQL运算符

## 4.1 算符运算符

| 运算符 | 作用              |
| ------ | ----------------- |
| +      | 加法运算          |
| -      | 减法运算          |
| *      | 乘法运算          |
| /      | 除法运算:返回商   |
| %      | 求余运算:返回余数 |

## 4.2 比较运算符

| 运算符         | 作用                                    |
| -------------- | --------------------------------------- |
| =              | 等于                                    |
| <=>            | 安全的等于                              |
| <>   或者   != | 不等于                                  |
| <=             | 小于等于                                |
| <              | 小于                                    |
| \>=            | 大于等于                                |
| >              | 大于                                    |
| is null        | 判断一个值是否为NULL                    |
| is not null    | 判断一个值是否不为NULL                  |
| least          | 在有两个或多个参数时候返回最小值        |
| between and    | 判断一个值是否在两个值中间              |
| isnull         | 判断一个值是否为NULL:与is null 效果一样 |
| in             | 判断一个值是否在in列表中的任意一个值    |
| not in         | 判断一个值是否不在in列表中的任意一个值  |
| like           | 通配符匹配                              |
| regexp         | 正则表达式匹配                          |

## 4.3 逻辑运算符

| 运算符        | 作用     |
| ------------- | -------- |
| not  或者  !  | 逻辑非   |
| and  或者 &&  | 逻辑与   |
| or  或者 \|\| | 逻辑或   |
| xor           | 逻辑异或 |

## 4.4 位操作运算符

| 运算符 | 作用   |
| ------ | ------ |
| \|     | 位或   |
| &      | 位与   |
| ^      | 为异或 |
| <<     | 位左移 |
| \>>    | 位右移 |
| ~      | 位取反 |

## 4.5 运算符优先级

| 运算符优先级 - 从低到高                                      |
| ------------------------------------------------------------ |
| = (赋值运算)                                                 |
| \|\|，or                                                     |
| xor                                                          |
| && ，and                                                     |
| not                                                          |
| between，case，when，then，else                              |
| =(比较运算)，<==>，>=，>，<=，<，<>，!=，is，like，regexp，in |
| \|                                                           |
| &                                                            |
| <<，>>                                                       |
| -，+                                                         |
| *，/，%                                                      |
| ^                                                            |
| -(符号)，~(位反转)                                           |
| ！                                                           |

# 第五章 常用函数

## 5.1 字符串函数

| 函数                  | 功能                                         |
| --------------------- | -------------------------------------------- |
| concat(s1,s2...)      | 连接s1,s2为一个字符串                        |
| insert(str,x,y,inStr) | 将字符串从x位置,y个字符长的字符串替换为inStr |
| lower(str)            | 将字符串str中的字符变为小写字母              |
| upper(str)            | 将字符串str中的字符变为大写字母              |
| left(str,x)           | 返回字符str最左边的x个字符                   |
| right(str,x)          | 返回字符str最右边的x个字符                   |
| lpad(str,n,pad)       | 用字符串pad对str最左边进行填充,直到长度为n   |
| rpad(str,npad)        | 用字符串pad对str最右边进行填充,直到长度为n   |
| trim(str)             | 去掉字符串str行头和行尾的空格                |
| ltrim(str)            | 去掉字符串str行头的空格                      |
| rtrim(str)            | 去掉字符串str行尾的空格                      |
| repeate(str,x)        | 返回str重复x次的结果                         |
| replace(str,a,b)      | 用字符串b替换字符串str中所有出现的字符串a    |
| strcmp(s1,s2)         | 比较字符串s1和s2                             |
| substring(str,x,y)    | 返回字符串str的x位置起y个字符长的字符串      |



## 5.2 数值函数

| 函数          | 功能                               |
| ------------- | ---------------------------------- |
| abs(x)        | 返回x的绝对值                      |
| ceil(x)       | 返回大于x的最小整数  1.4  →  2     |
| floor(x)      | 返回小于x的最大整数   1.9  →  1    |
| mod(x,y)      | 返回x/y的模(余数)                  |
| rand()        | 返回0~1内的随机数                  |
| round(x,y)    | 返回参数x的四舍五入后有y为小数的值 |
| truncate(x,y) | 返回数值x截断为y位小数的结果       |

## 5.3 日期函数

| 函数                              | 功能                                       |
| --------------------------------- | ------------------------------------------ |
| curdate()                         | 返回当前日期                               |
| curtime()                         | 返回当前时间                               |
| now()                             | 返回当前日期时间                           |
| unix_timestamp(date)              | 返回日期date的UNIX时间戳                   |
| from_unixtime()                   | 返回UNIX时间戳的日期值                     |
| year(date)                        | 返回日期date的年份                         |
| monthname(date)                   | 返回日期date的月份名称                     |
| week(date)                        | 返回日期date为一年中的第几周               |
| hour(time)                        | 返回时间time的小时值                       |
| minute(time)                      | 返回时间time的分钟值                       |
| date_format(date,fmt)             | 返回按字符串fmt格式化日期date值            |
| date_add(date,interval expr type) | 返回一个日期或时间加上一个事件间隔的时间值 |
| datediff(e1,e2)                   | 返回起始时间e1和结束时间e2之间的天数       |

- date_fmt是常用格式符

  | 格式符   | 说明                              |
  | -------- | --------------------------------- |
  | %S 或 %s | 两位数字的秒(00,01,..,59)         |
  | %i       | 两位数字的分(00,01,..,59)         |
  | %H       | 24小时制的两位小时数(00,01,..,24) |
  | %h       | 12小时制的两位小时数(00,01,..,12) |
  | %d       | 两位数字的天数(01,02,..,31)       |
  | %m       | 两位数字的月数(01,02,..,12)       |
  | %Y       | 四位数字的年份                    |
  | %y       | 两位数字的年份                    |

- date_add的type说明

  | 表达式类型    | 描述     | 格式        |
  | ------------- | -------- | ----------- |
  | hour          | 小时     | hh          |
  | minute        | 分钟     | mm          |
  | second        | 秒       | ss          |
  | year          | 年       | YY          |
  | month         | 月       | MM          |
  | day           | 天       | DD          |
  | year_month    | 年和月   | YY-MM       |
  | day_hour      | 日和小时 | DD hh       |
  | day_minute    | 日和分钟 | DD hh:mm    |
  | day_second    | 日和秒   | DD hh:mm:ss |
  | hour_minute   | 小时和分 | hh:mm       |
  | hour_second   | 小时和秒 | hh:ss       |
  | minute_second | 分钟和秒 | mm:ss       |

  

## 5.4 流程函数

| 函数                                             | 功能                              |
| ------------------------------------------------ | --------------------------------- |
| if(value,t,f)                                    | 如果value为真返回t，否则返回f     |
| ifnull(v1,v2)                                    | 如果v1不为空返回v1，否则返回v2    |
| case when [v1] then [r1] ... else [def] end      | 如果v1为真返回r1，否则返回def     |
| case [ex] when [v1] then [r1] ... else [def] end | 如果ex等于v1则返回r1，否则返回def |

## 5.5 其他常用函数

| 函数                 | 功能                                                   |
| -------------------- | ------------------------------------------------------ |
| database()           | 返回当前数据库名称                                     |
| version()            | 返回当前数据库版本                                     |
| user()               | 返回当前登陆用户名                                     |
| inet_aton(IP)        | 将IP字符串转为数字表示                                 |
| inet_ntoa(数值)      | 将数字转为IP格式表示                                   |
| password(明文字符串) | 返回明文字符串的加密后的结果，<br />数据库系统加密方式 |
| md5()                | 返回字符串的md5值                                      |



## 5.6 学习小结

1. 在上述总结的函数中并不是所有函数，但涵盖了日常开发中常用的函数；
2. 需要在平时开发、学习中积累并熟练掌握；
3. 学习查阅文档，学习其他函数

# 第六章 图形化工具介绍

## 6.1 Workbench

## 6.2 Navicat

## 6.3 Datagrip

