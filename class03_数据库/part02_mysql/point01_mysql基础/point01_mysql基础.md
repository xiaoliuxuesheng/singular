<<<<<<< HEAD
# 第一部分 MySQL基础篇

## 第一章 数据库基础

### 1.1 数据库概述

学习数据库首先要熟悉数据库支持的数据类型以及每种类型的特点，即数据类支持的运算；数据库内置了对数据操作的简单函数，掌握常用的函数会大大提高SQL能力；最重要的SQL操作是面对工作的基本要求；是DBA必经的过程；

### 1.2 MySQL发展历史

### 1.3 MySQL安装

1. Windows系统安装

   - 官网下载：https://dev.mysql.com/downloads/installer/
   - 安装msi版本：自定义选择service和workbatch

2. MacOS系统安装

3. Linux系统安装

4. Docker命令安装

   - 拉取MySQL镜像：https://hub.docker.com/_/mysql?tab=tags，如：拉取MySQL8的Docker镜像

     ```sh
     docker pull mysql:8.0.29
     ```

   - 执行Docker命令，运行MySQL容器

     ```sh
     docker run \
     --name mysql \
     -p 3306:3306 \
     -v D:/panda_docker_files/mysql/data:/var/lib/mysql \
     -v D:/panda_docker_files/mysql/config:/etc/mysql \
     -e MYSQL_ROOT_PASSWORD=root \
     -d <MySQL镜像ID>
     ```

   - 进入容器

     ```sh
     docker exec -it mysql /bin/sh
     ```

   - 登陆mysql

     ```sh
     mysql -uroot -p
     ```

   - 查询root用户登录权限

     ```sql
     select host,user,plugin,authentication_string from mysql.user;
     ```

   - 修改root权限

     ```sql
     ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY 'root';
     ```

5. DockerFile安装

   ```sh
   
   ```

6. DockeroCompose安装

   ```yaml
   
   ```

### 1.4 MySQL客户端

1. mysqld
2. Sqlyong
3. Navicat
4. DataGrip

## 第二章 MySQL基础

### 2.1 SQL语言概述

1. SQL（Structure Query Language）：结构化查询语言，是用于和数据库进行交互的一种语言；
2. SQL分类
   - DDL（Data Definition Language）：数据定义语言，作用是对数据库对象的定义：如数据库，数据表、列、索引等等；DDL包含的sql关键字包含：create、drop、alert；
   - DML（Data Manipulation Language）：数据库操作语言，作用是添加，删除，更新和查询数据库记录，并检查数据完整性；DML包含的SQL关键字包含：insert、update、delete、select；
   - DCL（Data Control Language）：数据库控制语言，作用是控制不同的数据段的许可级别和访问级别的语句：如定义数据库、表、字段不同用户的访问权限和安全级别；DCL包含的SQL关键字包含：grant、revoke。

### 2.2 数据类型

#### 1. 数值类型

| 类型             | 说明 |
| ---------------- | ---- |
| BIE              |      |
| TINYINT          |      |
| BOOL, BOOLEAN    |      |
| SMALLINT         |      |
| MEDIUMINT        |      |
| INT,INTEGER      |      |
| BIGINT           |      |
| DECIMAL          |      |
| DEC              |      |
| FLOAT            |      |
| DOUBLE           |      |
| DOUBLE PRECISION |      |



### 2.3 运算符

### 2.5 MySQL函数

## 第三章 MySql-Database

## 第四章 MySql-Table

## 第五章 MySql-查询

## 第六章 视图

## 第七章 存储过程

## 第八章 触发器

## 第九章 MySql 8 新特性

### 9.1 窗口函数

### 9.2 公用表达式





=======
# 内容简介

    MySQL的学习是一个长期的持续学习的过程，工作经验也是一个积累的过程；正如本书分的三大部分：第一部分是MySQL基础，这部分主要是对1~4年的开发人员，这个阶段主要是在业务开发过程中涉及到的数据表的创建、字段的修改、索引的创建、会合理的使用数据类型和运算符进行数据查询、会根据业务需求编写出符合业务的SQL语句；随着工作经验的积累，过几年后可能会涉及到部分管理工作，此时需要能够掌握第二部分的内容：MySQL进阶，在这个阶段可能会涉及到数据表的权限管理、定位MySQL时候需要使用到的日志查询、随着业务中数据量的增加会有MySQL集群相关的要求或者读写分离；这个阶段需要不断打磨在第一阶段所掌握的MySQL知识，通过第二部分的学习能够开阔对MySQL的认识，为MySQL最重要最核心的技能做准备：MySQL调优，在这个阶段就需要对MySQL进行更深一步的学习，比如熟悉MySQL架构，了解MySQL索引原理，能够快速定位MySQL出现的问题并进行针对性的调优（包括但不限于SQL调优、索引调优、配置调优等等）；

# 第一部分 MySQL基础

## 第一章 数据库与MySQL

### 1.1 数据库

#### 1. 数据库概述

    首先根据行业中对数据库的要求可以对数据库做出两带你基本的定义：①数据库是存放具有一定规则数据的仓库、②数据库是一种数据结构,一种可以按一定格式存储大量数据,并且提供高效检索方式的一种数据结构；很好理解，只存储数据但是没有办法检索或者可以高效检索但是无法存储数据，这都不符合数据库的基本功能；

    数据库根据可以存储的数据格式和数据之间的关联关系，把数据库主要分为两大类：关系型数据库和非关系型数据库，比如MySQL、Oracle就属于关系型数据库，其主要特点是关系型数据库中主要是由固定模式的数据表组成的。

**★ 关系型数据库特性 : ACID**

- 原子性（Atomicity）
  
  > 指事务是一个不可分割的工作单位，事务中的操作要么都发生，要么都不发生。

- 一致性（Consistency）
  
  > 事务前后数据的完整性必须保持一致。

- 隔离性（Isolation）
  
  > 事务的隔离性是多个用户并发访问数据库时，数据库为每一个用户开启的事务，不能被其他事务的操作数据所干扰，多个并发事务之间要相互隔离。

- 持久性（Durability）
  
  > 指一个事务一旦被提交，它对数据库中数据的改变就是永久性的，接下来即使数据库发生故障也不应该对其有任何影响

#### 2. 数据表概述

    在关系型数据库中，数据表是是一系列二维数组的集合，用来存储数据和操作数据的逻辑结构。它由纵向的列和横向的行组成，行被称为记录，是组织数据的单位；列被称为字段，每个列表示行中记录的一个属性，没一列都有响应的数据类型，数据宽度等信息；

    其中列的数据类型决定数据在计算机中的存储格式，代表不同的信息类型；常用的数据类型有：整数、浮点数、精确小数、日期/时间、字符串；

    关系型数据库的几个基本概念：

| 概念  | 解释                     |
| --- | ---------------------- |
| 行   | 也称为元组、记录；不允许两行中数据的元素重复 |
| 列   | 也称为字段、属性；列名不能重复        |
| 关键字 | 也称为主键；唯一的表示了表中的某一行     |
| 外键  | 其他表的关键字，表语表之间的关联关系     |

#### 3. 三大范式

    ★ 根据数据表行和列的关系，行与行之间的关系，为了能都快速的将数据存储到数据库并且可以快速的将所需要的数据检索出来，为了减少数据冗余、避免操作异常，在设计数据库时必须遵循的一定的规则，这种规则称为范式，关系型数据表设计需要遵循三大基本范式：

- 第一范式：是指数据表中所有的字段都是不可分割的数据项，一个列只能表达一个属性，一个列不能包含多个含义；

- 第二范式：数据表满足第一范式，并且没一行都有唯一标识，称为主键，即每一列都依赖主键；

- 第三范式：满足第一范式，并且没一列都和数据主键直接依赖，非主键字段不存在函数依赖关系，即满足第三范式；

### 1.2 数据库组成

#### 1. 数据库系统

- **数据库**：用于存储数据的地方，本质就是磁盘中的具有特殊格式的文件；

- **数据库管理系统**：用于管理数据库的软件（DataBase Management System），是用户创建、管理和维护数据库时所使用的软件，DBMS能定义数据存储结构，提供数据的操作机制，维护数据库的安全性、完整性和可靠性；

- **数据库应用程序**：为了提高数据库系统的处理English所使用的的管理数据库的应用程序；数据库应用程序负责和DBMS进行通信访问和管理DBMS中存储的数据，允许用户增加、修改、删除DB中的数据；

#### 2. SQL语言

    对数据库进行查询和修改操作的语言称为SQL，是指结构化查询语言（Structured Query Language）；SQL优多种不同的类型，主要包含四个部分

- 数据库定义语言（DDL）：DROP、CREAGE、ALTER等语句

- 数据库操作语言（DML）：INSERT、UPDATE、DELTE语句

- 数据库查询语言（DQL）：SELECT语句

- 数据库控制语言（DML）：GRANT、REVOKE、COMMIT、ROLLBACK等语句

### 1.3 MySQL概述

#### 1. 介绍

    MySQL是一个小型关系型数据库管理系统，与其他大型数据库管理系统（如Oracle、DB2、SQL Server）相比，MySQL规模小、体积小、速度快、成本低，并且对稍微复杂的应用提供满足要求的功能；MySQL的发展历程：

- **MySQL的历史最早可以追溯到1979年**：Monty Widenius,为一个叫TcX的小公司打工，并用BASIC设计了一个报表工具，过了不久，又将此工具，使用C语言重写，移植到Unix平台，当时，它只是一个很底层的面向报表的存储引擎。这个工具叫做Unireg。

- **1985 年**：以David Axmark 为首的小伙伴成立了一家公司，这就是MySQL AB 的前身，在业务中需要一个数据库。他们希望能够使用开源的产品。但在当时并没有一个合适的选择，没办法，那就自己开发吧。

- **1990年**：TcX的customer 中开始有人要求要为它的API提供SQL支持，当时，有人想到了直接使用商用数据库算了，但是Monty觉得商用数据库的速度难令人满意。于是，他直接借助于mSQL的代码，将它集成到自己的存储引擎中。但不巧的是，效果并不太好。于是,Monty雄心大起，决心自己重写一个SQL支持。

- **1996年**：MySQL 1.0发布, 在小范围内使用。到了96年10月，MySQL 3.11.1发布了

- **1999-2000年**：有一家公司在瑞典成立了，叫MySQL AB，开发出了 Berkeley DB引擎, 因为BDB支持事务处理，所以，MySQL从此开始支持事务处理了。

- **2000 年**：MySQL 公布了自己的源代码，并采用GPL（GNU General Public License）许可协议，正式进入开源世界。

- **2000年4月**：MySQL对旧的存储引擎进行了整理，命名为MyISAM

- **2001年**：集成了MyISAM和InnoDB 存储引擎。MySQL与InnoDB的正式结合版本是4.0。

- **2004年10月**：发布了经典的4.1版本。 2005年10月，有发布了里程碑的一个版本，MySQL 5.0.  在5.0中加入了游标，存储过程，触发器，视图和事务的支持。在5.0 之后的版本里，MySQL明确地表现出迈向高性能数据库的发展步伐。

- **2008年1月16日**：MySQL被Sun公司收购

- **2009年04月20日**：Oracle收购Sun 公司，MySQL 转入Oracle 门下。

- **2010年04月22日**： 发布MySQL 5.5, MySQLcluster 7.1.

#### 2. MySQL特点

- **功能强大**：MySQL中提供了多种数据库存储引擎，各个引擎各有所长，适用于不同的应用场合。用户可以选择最合适的引擎以得到最高性能，这些引擎升值可以应用处理每天访问量数亿的高强度Web搜索站点。MySQL支持事务、视图、存储过程和触发器等。

- **支持跨平台**：MySQL支持至少20种以上的开发平台，包括Linux、Windows、FreeBSD、IBMAIX、AIX和FreeBSD等。这使得在任何平台下编写的程序都可以进行移植，而不需要对程序做任何修改。

- **运行速度快**：高速是MySQL的显著特性。在MySQL中，使用了极快的B书磁盘表（MyISAM）和索引压缩；通过使用优化的单扫描多连接，能够极快的实现连接；SQL函数使用高度优化的类库实现，运行速度极快。

- **支持面向对象**：PHP支持混合编程方式。编程方式可分为纯粹面向对象、纯粹面向过程、面向对象与面向过程混合3种方式。

- **安全性高**；灵活安全的权限和密码系统允许主机的基本验证。连接到服务器时，所有的密码传输均采用加密形式，从而保证了密码的安全。

- **成本低**：MySQL数据库是一种完全免费的产品，用户可以直接从网上下载。

- **支持多种开发语言**：MySQL为各种流行的程序设计语言提供支持，为他们提供了很多的API函数。

- **数据库存储容量大**：MySQL数据库的最大有效容量通常是有操作系统对文件大小的限制决定的，而不是有MySQL内部限制决定的。InnDB存储引擎讲InnDB表保存在一个表空间内，该表空间可由数个文件创建，表空间的最大容量为64TB,可以轻松处理拥有上万条记录的大型数据库。

- **支持强大的内置函数**：提供了大量内置函数，几乎涵盖了Web应用开发中的所有功能。它内置了数据连接、文件上传等功能，MySQL支持大量的扩展库，如MySQL等，为快速开发Web应用提供方便

## 第二章 MySQL安装与配置

### 2.1 MySQL安装

#### 1. Windows系统

#### 2. Linux系统安装

#### 3. MacOS系统安装

#### 4. Docker File安装

#### 5. Docker Componse安装

### 2.2 MySQL配置

### 2.3 MySQL命令行工具

### 2.4 MySQL客户端工具

1. SQLyog：https://sqlyog.en.softonic.com/

2. Navicat：http://www.navicat.com.cn/

3. DataGrip：https://www.jetbrains.com/datagrip/

## 第三章 MySQL入门

### 3.1 连接MySQL

### 3.2 MySQL基本操作

### 3.3 MySQL存储引擎概述

## 第四章 数据表基本操作

### 4.1 字段约束

### 4.2 字段默认值

### 4.3 数据表操作

## 第五章 数据类型与运算符

## 第六章 MySQL内置函数

## 第七章 MySQL查询

## 第八章 索引

## 第九章 存储过程和函数

## 第十章 视图

## 第十一章 触发器

# 第二部分 SQL进阶

## 第一章 MySQL用户管理

## 第二章 数据备份与恢复

## 第三章 MySQL日志

## 第四章 MySQL集群

## 第五章 MySQL读写分离

# 第三部分 MySQL调优

## 第一章 MySQL架构

## 第二章 MySQL引擎

## 第四章 MySQL索引原理

## 第五章 SQL调优

## 第六章 索引调优

## 第七章 MySQL经验技巧
>>>>>>> 969db05bba17496626b6bf2183f314ef77d9d04d
