01、本章内容

1. 本章内容
   1. 进程和线程的概念
   2. 并行和并发的概念
   3. 线程的基本使用

02、进程线程的概念呢

1. 进程：进程由指令和数据组成；指令要运行、数据要读写，就必须将指令加载至CPU，数据加载至内存；在指令执行过程中还需要用到磁盘、网络等设备；进程是用来加载指令、管理内存、管理IO
   - 当一个程序被运行，从磁盘加载这个程序到内存，这时就开启了一个进程
   - 进程可以理解为一个程序的实例：大部分程序可以同时运行多个进程实例，有的只可以启动一个实例；
2. 线程：一个进程可以分为一到多个线程，一个线程就是一个指令流，将指令流中一条条的指令以一定的顺序交给CPU执行；在java中进程作为最小的调度单位，在windows中进程是线程的容器
3. 进程与线程的对比
   - 进程是相互独立的，线程是存在于进程之内的
   - 进程用于共享的资源：如内存空间
   - 进程之间通信比较复杂：同一台计算机ICP、不同计算机之间需要网络通信，如http、tcp
   - 线程之间通信相对简单，共享进程内的内存
   - 线程更轻量、切换成本低：在CPU中同一时刻只有一个线程执行

03、并行与并发的概念

1. 在单核CPU中，线程实际还是串行执行，操作系统中的任务调度器将CPU的使用时间分配给不同的线程使用，微观串行、宏观并行
2. 在多核CPU中，每个核心同一时刻都在处理各自的线程，这个执行线程的能力称为并行（concurrency）
   - 并发（concurrent）同一时间应对多件事情的能力（不一定同时执行），多件事情堆在一起有执行风险
   - 并行（parallel）同一时间动手做多件请的能力

04、线程应用-异步调用

1. 同步和异步
   - 方法调用者需要等待调用结果称为同步
   - 方法调用者不需要等待调用结果就能继续执行就是异步

05、线程应用-提示效率

1. 提升效率案例说明：地球人都知道

06、线程应用-提升效率代码演示

1. 环境搭建
   - 基准测试工具：JMH会执行预热，多次执行获取平均
   - CPU核心限制：使用虚拟机，分配合适的核心；

07、线程应用-小结

- 多核执行多线程可以提高性能
- 单核执行多线程性能反而会变低：线程切换需要时间